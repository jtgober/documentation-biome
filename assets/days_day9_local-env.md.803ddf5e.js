import{_ as s,o as n,c as e,g as a}from"./app.3777c0b3.js";const b=JSON.parse('{"title":"Using pâ€‹rocess.env.VARIABLES in our local environment","description":"","frontmatter":{},"headers":[{"level":2,"title":"Downloading dotenv","slug":"downloading-dotenv","link":"#downloading-dotenv","children":[{"level":3,"title":"configuring dotenv","slug":"configuring-dotenv","link":"#configuring-dotenv","children":[]}]},{"level":2,"title":"Update .gitignore!!!!","slug":"update-gitignore","link":"#update-gitignore","children":[]}],"relativePath":"days/day9/local-env.md","lastUpdated":1677707074000}'),l={name:"days/day9/local-env.md"},o=a(`<h1 id="using-process-env-variables-in-our-local-environment" tabindex="-1">Using p<wbr>rocess.env.VARIABLES in our local environment <a class="header-anchor" href="#using-process-env-variables-in-our-local-environment" aria-hidden="true">#</a></h1><p>Don&#39;t worry this one with be quick</p><p>So in the last video we explored creating environment variables to be used in Github, and we attached them to our tests in our sample app. But now we have a small problem. If we want to run our tests locally now, they will fail because we don&#39;t have those variables defined on our local machine. There are a few ways to fix this. we <em>could</em> add a <code>ternary</code> operator or an <code>if</code> statement like we do in the config file. However there is a better cleaner way. There is a package we can download that allows us to use environment variables in our code, similar to how we are using them in github. That package is <code>dotenv</code></p><h2 id="downloading-dotenv" tabindex="-1">Downloading dotenv <a class="header-anchor" href="#downloading-dotenv" aria-hidden="true">#</a></h2><div class="language-sh line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">npm</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">install</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">dotenv</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="configuring-dotenv" tabindex="-1">configuring dotenv <a class="header-anchor" href="#configuring-dotenv" aria-hidden="true">#</a></h3><p>first we need to create a <code>.env</code> file in the root of your project:</p><div class="language- line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#A6ACCD;">USERNAME=&quot;Gojo&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">PASSWORD=&quot;pwd&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>After creating a <code>.env</code> file with the username and password fields we can go back to our <code>sample-app.spec.js</code> and add the following lines</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight has-focused-lines" tabindex="0"><code><span class="line has-focus"><span style="color:#676E95;font-style:italic;">// sample-app.spec.js </span></span>
<span class="line has-focus"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">*</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">as</span><span style="color:#A6ACCD;"> dotenv </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">dotenv</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;"> </span></span>
<span class="line has-focus"><span style="color:#A6ACCD;">dotenv</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">config</span><span style="color:#A6ACCD;">() </span></span>
<span class="line"><span style="color:#C792EA;">let</span><span style="color:#A6ACCD;"> username </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> process</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">env</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">USERNAME</span></span>
<span class="line"><span style="color:#C792EA;">let</span><span style="color:#A6ACCD;"> password </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> process</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">env</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">PASSWORD</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>with that completed we&#39;re now back in a working condition!</p><div class="language-sh line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">npx</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">playwright</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">test</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">sample-app.spec.js</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>You can also view environment variables from the code by adding a <code>console.log(p<wbr>rocess.env)</code> in the code.</p><h2 id="update-gitignore" tabindex="-1">Update .gitignore!!!! <a class="header-anchor" href="#update-gitignore" aria-hidden="true">#</a></h2><p>The last thing to do, is to ensure that we do not send this out to the repo. otherwise it will ruin all that trouble we went into making those github secrets</p><div class="language- line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#A6ACCD;">node_modules/</span></span>
<span class="line"><span style="color:#A6ACCD;">/test-results/</span></span>
<span class="line"><span style="color:#A6ACCD;">/playwright-report/</span></span>
<span class="line"><span style="color:#A6ACCD;">/playwright/.cache/</span></span>
<span class="line"><span style="color:#A6ACCD;">.env</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div>`,16),t=[o];function p(r,i,c,d,u,h){return n(),e("div",null,t)}const C=s(l,[["render",p]]);export{b as __pageData,C as default};
